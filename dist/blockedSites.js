import{r as c,j as t,R as m,a as h}from"./assets/client-C-l9ORaP.js";import{B as n}from"./assets/browser-polyfill-CqyFTn3I.js";import"./assets/_commonjsHelpers-CqkleIqs.js";const x=()=>{const i=async()=>(await n.storage.local.get("blockedSites")).blockedSites||null,[l,a]=c.useState([]);c.useEffect(()=>{(async()=>{const r=await i();r&&a(r)})()},[]);const d=e=>{if(e=e.trim().toLowerCase(),!e.includes("."))return null;try{return new URL(e).href}catch{try{return new URL(`https://${e}`).href}catch{return null}}},u=e=>{e.preventDefault();const r=e.target.url.value;if(r&&r.includes(".")){e.target.url.value="";const s=d(r);if(s){if(l.includes(s)){alert("This site is already blocked");return}}else{alert("Please enter a valid URL");return}a(o=>[...o,s]),n.storage.local.set({blockedSites:[...l,s]}).catch(o=>{alert("Error updating blocked sites. Please try again."),console.error("Error updating blocked sites:",o)})}else alert("Please enter a valid URL")},f=e=>{const r=l.filter(s=>s!==e);a(r),n.storage.local.set({blockedSites:r}).catch(s=>{alert("Error updating blocked sites. Please try again."),console.error("Error updating blocked sites:",s)})};return t.jsxs("div",{className:"w-full h-full absolute top-0 left-0 flex flex-col items-center justify-start p-2 gap-2",children:[t.jsxs("h1",{className:"text-3xl cursor-default",children:[t.jsx("span",{className:"text-lime-400",children:"Noob"}),"crastinator"]}),t.jsx("h1",{className:"text-xl font-semibold text-gray-300 text-nowrap mb-4",children:"Blocked Sites"}),t.jsxs("div",{className:"w-[80%] h-[80%] flex flex-col items-center justify-start p-2 gap-2 rounded-md border-lime-500 shadow-[0_0_8px_rgba(132,208,0,0.5)] overflow-y-auto",children:[t.jsxs("form",{onSubmit:e=>u(e),className:"w-full h-[2rem] flex justify-center items-center mt-2 relative",children:[t.jsx("input",{type:"text",className:"w-[80%] h-full rounded-full bg-gray-300 pl-5 text-neutral-800 outline-none border-none",name:"url",placeholder:"URL e.g. website.com"}),t.jsx("button",{type:"submit",className:"bg-neutral-900 font-semibold text-gray-300 rounded-full h-full absolute right-[9.9%] w-[6rem] cursor-pointer transition duration-200 ease-out hover:text-red-400",children:"Block"})]}),t.jsxs("div",{className:"w-full flex-1 flex flex-col items-center justify-start gap-2 mt-4 p-4",children:[l.length>0&&l.map((e,r)=>t.jsxs("div",{className:"w-full h-[2rem] flex justify-between items-center border-red-500 shadow-[0_0_4px_#fb2c36] rounded-full px-5 transition duration-300 ease-out hover:scale-[102%]",children:[t.jsx("p",{className:"text-gray-200 font-semibold cursor-default",children:e}),t.jsx("div",{className:"h-full w-fit",children:t.jsx("button",{onClick:()=>{f(e)},className:"bg-neutral-800 hover:bg-lime-300 hover:text-neutral-800 text-gray-300 font-semibold h-full w-[4rem] cursor-pointer transition duration-200 ease-out",children:"Unblock"})})]},r)),l.length===0&&t.jsx("h1",{className:"text-gray-300 text-3xl mt-10",children:"You haven't blocked anything..."})]})]})]})};m.createRoot(document.getElementById("root")).render(t.jsx(h.StrictMode,{children:t.jsx(x,{})}));
